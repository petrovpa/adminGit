webpackJsonp([1],{"+Bn+":function(e,n,t){(e.exports=t("lcwS")(!0)).push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"user-main.component.scss",sourceRoot:""}])},"37i4":function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("vCxL"),r=t("LBxa"),a=t("FhS4"),i=t("x0/j"),l=t("jWmD"),d=t("kLaQ"),s=t("uz/q"),u=t("cuhR"),c=function(){return o.__decorate([r.NgModule({imports:[a.CommonModule,i.FormsModule,l.FormControlModule,d.FormControlLabelModule,s.ModalDialogModule],declarations:[u.ChangePasswordDialogComponent],exports:[u.ChangePasswordDialogComponent]})],function(){})}();n.ChangePasswordDialogModule=c},"4EhM":function(e,n){e.exports='<div class="form-control__container">\n  <div class="form-control__select form-control__select-tree">\n    <div class="dropdown" dropdown\n         [isOpen]="status.isOpen"\n         [ngClass]="styleClass"\n         [isDisabled]="disabled"\n         (isOpenChange)="onOpenChange($event)">\n      <input type="text" [name]="name" [(ngModel)]="value" hidden [required]="required">\n      <div dropdownToggle class="form-control"\n           [ngClass]="{\'form-control_disabled\': disabled,\n                       \'ng-invalid\': required && !value?.name}">\n        <div class="form-control__value">{{value?.name}}&nbsp;</div>\n      </div>\n\n      <ul *dropdownMenu class="dropdown-menu" role="menu">\n        <tree-root\n          #treeRoot\n          [nodes]="nodes"\n          [options]="options"\n          (click)="onClick($event)"\n          (activate)="onActivate($event?.node?.data)"></tree-root>\n      </ul>\n      <span class="form-control__icon">\n        <i class="tick" *ngIf="!isOpen" (click)="toggleDropdown($event)"></i>\n      </span>\n    </div>\n  </div>\n</div>\n'},"4KyD":function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("vCxL"),r=t("LBxa"),a=t("FhS4"),i=t("x0/j"),l=t("rdEm"),d=t("jWmD"),s=t("kLaQ"),u=t("UjCx"),c=t("Rxu5"),p=t("37i4"),f=t("kd1W"),g=t("p1L8"),m=t("NrgT"),b=t("98Dg"),h=t("Tweg"),$=t("sYcf"),v=t("kVLv"),y=t("zbeP"),_=t("nyY/"),A=t("BeFk"),w=t("eMBm"),C=t("Fz7G"),x=t("xfj+"),k=t("kLnW"),E=t("M5S4"),I=t("rHMe"),S=t("Upho");console.log("Acc edit bundle loaded asynchronously");var M=function(){return o.__decorate([r.NgModule({imports:[a.CommonModule,i.FormsModule,_.UserAccountsEditRoutingModule,d.FormControlModule,s.FormControlLabelModule,u.DatatableModule,c.DropdownListModule,$.CustomButtonGroupModule,f.AddModalDialogModule,p.ChangePasswordDialogModule,g.ModalDialogGroupModule,m.SelectTreeModule,l.TreeModule,b.Select2Module,h.AlertModule,I.ManageRightModule,v.JournalModule,S.UserShortInfoModule],declarations:[y.UserMainComponent,A.UserRoleComponent,w.UserGroupComponent,C.UserRightComponent,k.ActiveDirectoryComponent],providers:[x.UserAccountEditGuard,E.UserAccountsService]})],function(){})}();n.UserAccountsEditModule=M},"5T6W":function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("vCxL"),r=t("LBxa"),a=t("B1iE"),i=t("s1W5"),l=t("uz/q"),d=t("RvHN"),s=t("+laO"),u=function(){function e(e){var n=this;this.rest=e,this.options=new i.GroupModalDialogOptions,this._defaultOptionsMap={modalDialogTitle:"Добавить"},this.initOptionByDefault=function(e,t){a.isUndefined(n.options[t])&&(n.options[t]=e)}}return Object.defineProperty(e.prototype,"group",{get:function(){return this._group},set:function(e){this._group=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"groupTree",{get:function(){return this._groupTree},set:function(e){this._groupTree=e},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.getGroupsTree(),a.forIn(this._defaultOptionsMap,this.initOptionByDefault)},e.prototype.getGroupsTree=function(){var e=this;return this.rest.doCall("admrestgate/userGroupsTree",{}).subscribe(function(n){return e.groupTree=d.AngularTree.createNewArray(n)})},e.prototype.selectGroup=function(e){this.group=e},o.__decorate([r.ViewChild("dialog"),o.__metadata("design:type",l.ModalDialogComponent)],e.prototype,"dialog",void 0),o.__decorate([r.Input(),o.__metadata("design:type",i.GroupModalDialogOptions)],e.prototype,"options",void 0),o.__decorate([r.Component({selector:"add-modal-dialog-group",template:t("nXRC"),styles:[t("fHTi")]}),o.__metadata("design:paramtypes",[s.RestService])],e)}();n.ModalDialogGroupComponent=u},"6Bqv":function(e,n,t){(e.exports=t("lcwS")(!0)).push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"active-directory.component.scss",sourceRoot:""}])},AWKP:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("E6Mi");n.SelectTreeModule=o.SelectTreeModule},Aro2:function(e,n,t){var o=t("W6Qo");e.exports="string"==typeof o?o:o.toString()},BeFk:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("vCxL"),r=t("LBxa"),a=t("uz/q"),i=t("B1iE"),l=t("6VFu");t("PyRu"),t("IeRx");var d=t("NWuu"),s=function(e){function n(n){var t=e.call(this,n)||this;return t.injector=n,t.roleTableButtons=i.cloneDeep(t.tableButtons),t.roleModalDialogOptions={modalDialogTitle:"Добавить в роль",labelTitle:"Роль",inputSelectNameField:"ROLEVIEWNAME",inputSelectSysnameField:"ROLEID"},t.addRoleToUser=function(e){-1===t.roleList.findIndex(function(n){return n.ROLEID==e})?t.userAccountsService.addRoleToUser(t.userAccountId,e).subscribe(function(){return t.getUserRoleListByUserAccountId(t.userAccountId)},t.addDialog.dialog.close()):t.dialogService.alert(a.ModalType.Warning,"Данная роль уже добавлена.")},t.onClickAddRoleToUser=function(){return o.__awaiter(t,void 0,void 0,function(){var e;return o.__generator(this,function(n){switch(n.label){case 0:return this.addModalDialogOptions=this.roleModalDialogOptions,[4,this.getRoleList(this.userAccountId)];case 1:return n.sent(),this.roleListFull.length>0?(e=this.filterRoles(),this.roleModalDialogOptions.inputSelectItems=e,this.addDialog.dialog.show()):this.dialogService.alert(a.ModalType.Error,"Отсутствуют доступные для добавления роли."),[2]}})})},t.removeUserRole=function(e){if(i.isArray(e))try{var n=e.map(function(e){return t.userAccountsService.removeUserRole(t.userAccountId,e.ROLEID)});l.Observable.forkJoin(n).first().subscribe(function(){return t.getUserRoleListByUserAccountId(t.userAccountId)})}catch(e){console.error("error in UserAccountsEditComponent removeUserRole",e)}},t}return o.__extends(n,e),n.prototype.ngOnInit=function(){this.initTable(),this.userAccountId?(this.getUserAccount(),this.getUserRoleListByUserAccountId(this.userAccountId)):this.routingState.navigate(d.ROUTE_USER_ACCOUNTS)},n.prototype.initTable=function(){this.roleTableButtons[0].onClick=this.onClickAddRoleToUser,this.roleTableButtons[1].onClick=this.removeUserRole,this.roleModalDialogOptions.onClickAddButton=this.addRoleToUser},n.prototype.getUserRoleListByUserAccountId=function(e){var n=this;this.userAccountsService.getUserRoleList(e).subscribe(function(e){return n.roleList=e})},n.prototype.getRoleList=function(e){var n=this;return this.userAccountsService.getRoleList(e).map(function(e){return n.roleListFull=e.map(function(e){return e.ROLEVIEWNAME=e.ROLENAME+" ("+e.ROLESYSNAME+")",e})}).toPromise()},n.prototype.filterRoles=function(){var e=this;return this.roleListFull.filter(function(n){return-1===e.roleList.findIndex(function(e){return e.ROLEID===n.ROLEID})})},o.__decorate([r.ViewChild("roleTable"),o.__metadata("design:type",Object)],n.prototype,"roleTable",void 0),o.__decorate([r.Component({selector:"app-user-account-role",template:t("K6pO"),styles:[t("Wl4a")]}),o.__metadata("design:paramtypes",[r.Injector])],n)}(t("KwN6").UserBaseTableComponent);n.UserRoleComponent=s},E0cw:function(e,n,t){var o=t("LW4K");e.exports="string"==typeof o?o:o.toString()},E6Mi:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("vCxL"),r=t("LBxa"),a=t("x0/j"),i=t("FhS4"),l=t("rdEm"),d=t("jWmD"),s=t("o/qk"),u=t("kY28"),c=function(){return o.__decorate([r.NgModule({imports:[a.FormsModule,i.CommonModule,l.TreeModule,d.FormControlModule,s.DropdownModule.forRoot()],declarations:[u.SelectTreeComponent],exports:[u.SelectTreeComponent]})],function(){})}();n.SelectTreeModule=c},Fz7G:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("vCxL"),r=t("LBxa");t("PyRu");var a=t("uz/q"),i=t("kVLv"),l=t("NWuu"),d=function(e){function n(n){var t=e.call(this,n)||this;return t.injector=n,t.journalButtons=[{title:"Добавить простое право",styleClass:"custom-button__add",iconClass:"icon-add",sysName:"add"},{title:"Добавить профильное право",styleClass:"custom-button__add-right-profile",iconClass:"icon-plus-bold",sysName:"add_right"},i.JOURNAL_BUTTON_REMOVE],t.journalButtonsAction={add:function(){t.routingState.navigate(l.ROUTE_USER_ACCOUNTS_RIGHT_SIMPLE,{userAccountId:t.userAccountId,userId:t.userId,rightObjectId:t.userAccountId,rightOwner:"ACCOUNT"})},add_right:function(){t.routingState.navigate(l.ROUTE_USER_ACCOUNTS_RIGHT_PROFILE,{userAccountId:t.userAccountId,userId:t.userId,rightObjectId:t.userAccountId,rightOwner:"ACCOUNT"})},remove:function(e){var n=e[0];t.dialogService.confirm(a.ModalType.Warning,"Вы действительно хотите удалить выбранное право?").subscribe(function(){t.rightRemove(n.RIGHTID)},function(e){})}},t}return o.__extends(n,e),n.prototype.ngOnInit=function(){this.userAccountId?(this.getUserAccount(),this.getRightListByAccountId(this.userAccountId).subscribe()):this.routingState.navigate(l.ROUTE_USER_ACCOUNTS)},n.prototype.getRightListByAccountId=function(e){var n=this;return this.userAccountsService.getRightListByAccountId(e).map(function(e){e.forEach(function(e){e.RIGHTTYPESTR=1===e.RIGHTTYPE?"Простое право":"Профильное право"}),n.rightList=e})},n.prototype.rightRemove=function(e){var n=this;this.userAccountsService.removeUserRight(this.userAccountId,e).subscribe(function(e){n.journal.getData()})},n.prototype.viewRight=function(e){this.routingState.navigate(1==e.RIGHTTYPE?l.ROUTE_USER_ACCOUNTS_RIGHT_SIMPLE:l.ROUTE_USER_ACCOUNTS_RIGHT_PROFILE,{userAccountId:this.userAccountId,userId:this.userId,rightObjectId:this.userAccountId,rightOwner:"ACCOUNT",rightId:e.RIGHTID,rightName:e.RIGHTNAME,rightSysName:e.RIGHTSYSNAME})},o.__decorate([r.ViewChild("journal"),o.__metadata("design:type",Object)],n.prototype,"journal",void 0),o.__decorate([r.Component({selector:"app-user-account-right",template:t("njdL"),styles:[t("eQGt")]}),o.__metadata("design:paramtypes",[r.Injector])],n)}(t("KwN6").UserBaseTableComponent);n.UserRightComponent=d},G2GF:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("vCxL"),r=t("M5S4"),a=t("tk1w"),i=t("4X2o"),l=t("UllE"),d=t("xwqV"),s=t("NWuu"),u=function(e){function n(n){var t=e.call(this,n)||this;return t.injector=n,t.isBlock=!1,t.isNextSubMenu=!1,t.userAccountsService=t.injector.get(r.UserAccountsService),t.cache=t.injector.get(i.CacheService),t.menuService=t.injector.get(d.MenuService),t.router=t.injector.get(l.Router),t.userAccountId=t.session.getContext("userAccountId"),t.userId=t.session.getContext("userId"),t.user=t.userAccountsService.user,t.menuService.loadB2BMenu("menu/dsB2BMenuBrowseEx").subscribe(function(e){if(!e.Error){var n=e.find(function(e){return"/user-accounts"===e.path}),o=t.router.url.split("#"),r=o[0],a="isBack"===o[1],i=-1;n&&n.submenu&&(i=n.submenu.findIndex(function(e){return e.path===r}));var l=t.getRouteData("next");if(l){l="/"+l.join("/");var d=n.submenu.findIndex(function(e){return e.path===l});t.isNextSubMenu=-1!==d}-1===i&&(a?t.navigateBack():t.navigateNext())}}),t}return o.__extends(n,e),n.prototype.getUserAccount=function(){var e=this;this.user&&this.user.USERID&&this.user.USERACCOUNTID===this.userAccountId?this.routingState.navigate(s.ROUTE_USER_ACCOUNTS):this.userAccountsService.getUserInfoByAccountId(this.userAccountId).subscribe(function(n){n.Error||(e.user=n,e.isBlock="BLOCKED"===n.STATUS)})},n}(a.BaseFormComponent);n.UserBaseAccountComponent=u},GswF:function(e,n,t){(e.exports=t("lcwS")(!0)).push([e.i,".tree {\n  margin-bottom: 30px;\n  width: 100%;\n  height: 250px;\n  border: 1px solid #ccc;\n  border-radius: 5px; }\n","",{version:3,sources:["/home/sambucus/fastwork/hgbiv/bsflifeprod/Angular/Admin/src/app/components/modal-dialog-group/modal-dialog-group/modal-dialog-group.component.scss"],names:[],mappings:"AAAA;EACI,oBAAmB;EACnB,YAAW;EACX,cAAa;EACb,uBAAsB;EACtB,mBAAkB,EACrB",file:"modal-dialog-group.component.scss",sourcesContent:[".tree {\n    margin-bottom: 30px;\n    width: 100%;\n    height: 250px;\n    border: 1px solid #ccc;\n    border-radius: 5px;\n}"],sourceRoot:""}])},JDff:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.AddModalDialogOptions=function(){}},K6pO:function(e,n){e.exports='<form #f="ngForm" novalidate class="page-form-edit">\n  <add-modal-dialog #addDialog [options]="addModalDialogOptions"></add-modal-dialog>\n\n  <user-short-info [user]="user"></user-short-info>\n\n  <div class="page-title">Роли</div>\n\n  <custom-button-group [buttons]="roleTableButtons"\n                       [selected]="roleTable.selected"></custom-button-group>\n\n  <datatable #roleTable class="bootstrap"\n             [rows]="roleList"\n             columnMode="force"\n             selectionType="single"\n             [rowHeight]="30"\n             [virtualization]="\'false\'"\n             [reorderable]="true"\n             [swapColumns]="true"\n             [messages]="{ emptyMessage: isRoleLoading ? \'Подождите. Идет загрузка...\' : \'Не найдено ни одной роли\' }">\n    <datatable-column name="№" [maxWidth]="50">\n      <ng-template let-rowIndex="rowIndex" let-row="row" datatable-cell-template>\n        <ng-container>{{rowIndex + 1}}</ng-container>\n      </ng-template>\n    </datatable-column>\n    <datatable-column [canAutoResize]="true" name="Имя роли" [prop]="\'ROLENAME\'"></datatable-column>\n    <datatable-column [canAutoResize]="true" name="Описание" [prop]="\'DESCRIPTION\'"></datatable-column>\n    <datatable-column [canAutoResize]="true" name="Системное имя" [prop]="\'ROLESYSNAME\'"></datatable-column>\n  </datatable>\n\n  <div class="page__btn">\n    <div class="row">\n      <div class="col-sm-6 col-12">\n        <button class="btn btn-link btn-rounded btn-block" (click)="back($event, f)">Вернуться</button>\n      </div>\n      <div class="col-sm-6 col-12">\n        <button class="btn btn-primary btn-rounded btn-block" (click)="next($event, f)">Продолжить</button>\n      </div>\n    </div>\n  </div>\n</form>\n'},KcsH:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ChangePasswordDialogOptions=function(){}},KwN6:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("vCxL"),r=t("LBxa"),a=t("otmI"),i=t("JDff"),l=function(e){function n(n){var t=e.call(this,n)||this;return t.injector=n,t.addModalDialogOptions=new i.AddModalDialogOptions,t.tableButtons=[{title:"Добавить",styleClass:"custom-button__add",iconClass:"icon-add"},{title:"Удалить",styleClass:"custom-button__delete",iconClass:"icon-delete",selectedRequired:!0}],t}return o.__extends(n,e),o.__decorate([r.ViewChild("addDialog"),o.__metadata("design:type",a.AddModalDialogComponent)],n.prototype,"addDialog",void 0),o.__decorate([r.Component({selector:"user-base-table",template:""}),o.__metadata("design:paramtypes",[r.Injector])],n)}(t("G2GF").UserBaseAccountComponent);n.UserBaseTableComponent=l},LDRe:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ActiveDirectoryUser=function(e){Object.assign(this,e)}},LW4K:function(e,n,t){(e.exports=t("lcwS")(!0)).push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"change-password-dialog.component.scss",sourceRoot:""}])},NJZA:function(e,n,t){(e.exports=t("lcwS")(!0)).push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"user-short-info.component.scss",sourceRoot:""}])},NRvf:function(e,n,t){(e.exports=t("lcwS")(!0)).push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"group.component.scss",sourceRoot:""}])},NrgT:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),t("vCxL").__exportStar(t("AWKP"),n)},QOs1:function(e,n,t){(e.exports=t("lcwS")(!0)).push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"role.component.scss",sourceRoot:""}])},Rxu5:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("vCxL"),r=t("LBxa"),a=t("FhS4"),i=t("x0/j"),l=t("jWmD"),d=t("kLaQ"),s=t("yY3R"),u=function(){return o.__decorate([r.NgModule({imports:[a.CommonModule,i.FormsModule,l.FormControlModule,d.FormControlLabelModule],declarations:[s.DropdownListComponent],exports:[s.DropdownListComponent]})],function(){})}();n.DropdownListModule=u},SQom:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("vCxL"),r=t("LBxa"),a=t("bPHV"),i=function(){function e(){}return e.prototype.ngOnInit=function(){},o.__decorate([r.Input(),o.__metadata("design:type",a.User)],e.prototype,"user",void 0),o.__decorate([r.Component({selector:"user-short-info",template:t("fpIW"),styles:[t("gAQV")]}),o.__metadata("design:paramtypes",[])],e)}();n.UserShortInfoComponent=i},Upho:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("vCxL"),r=t("LBxa"),a=t("FhS4"),i=t("SQom"),l=function(){return o.__decorate([r.NgModule({imports:[a.CommonModule],declarations:[i.UserShortInfoComponent],exports:[i.UserShortInfoComponent]})],function(){})}();n.UserShortInfoModule=l},VF6W:function(e,n){e.exports='<form #f="ngForm" [ngClass]="{\'was-validated\': wasValidated}"\n      class="page-form-edit user-accounts-edit-form"\n      novalidate autocomplete="off">\n\n  <fieldset>\n    <legend>Общая информация</legend>\n\n    <div class="row">\n      <div class="col-sm-6 col-12">\n        <form-control-label title="Фамилия" [required]="true">\n          <input-name name="surname"\n                      placeholder="Фамилия"\n                      [(ngModel)]="user.LASTNAME"\n                      [required]="true"\n                      [nameInputFilter]="filterLastName"\n                      filterErrorRussian="Только русские символы и тире"\n                      [disabled]="isFormDisabled || isBlock"></input-name>\n        </form-control-label>\n      </div>\n      <div class="col-sm-6 col-12">\n        <form-control-label title="Имя" [required]="true">\n          <input-name name="firstName"\n                      placeholder="Имя"\n                      [(ngModel)]="user.FIRSTNAME"\n                      [required]="true"\n                      [nameInputFilter]="filterName"\n                      filterErrorRussian="Только русские символы"\n                      [disabled]="isFormDisabled || isBlock"></input-name>\n        </form-control-label>\n      </div>\n    </div>\n\n    <div class="row">\n      <div class="col-sm-6 col-12">\n        <form-control-label title="Отчество">\n          <input-name name="patronymic"\n                      [(ngModel)]="user.MIDDLENAME"\n                      #patronymicControl=ngModel\n                      placeholder="Отчество"\n                      [nameInputFilter]="filterName"\n                      filterErrorRussian="Только русские символы"\n                      [disabled]="isFormDisabled || isBlock"></input-name>\n        </form-control-label>\n      </div>\n      <div class="col-sm-6 col-12" >\n        <form-control-label title="Подразделение" [required]="true" *ngIf="departmentTree && departmentTree.length > 0">\n          <select-tree\n                       name="department"\n                       placeholder="Подразделение"\n                       [selectedValue]="departmentItem"\n                       [nodes]="departmentTree"\n                       [options]="departamentOptions"\n                       [required]="true"\n                       [disabled]="isFormDisabled || isBlock"></select-tree>\n        </form-control-label>\n      </div>\n    </div>\n\n    <div class="row">\n      <div class="col-sm-6 col-12">\n        <form-control-label title="Электронная почта" [required]="true">\n          <input-email name="personalEmail"\n                       [(ngModel)]="user.EMAIL"\n                       [required]="true"\n                       [disabled]="isFormDisabled || isBlock"></input-email>\n        </form-control-label>\n      </div>\n      <div class="col-sm-6 col-12">\n        <form-control-label title="Контактный телефон" [required]="true">\n          <input-phone name="mobilePhone"\n                       [(ngModel)]="user.PHONE1"\n                       [required]="true"\n                       [disabled]="isFormDisabled || isBlock"></input-phone>\n        </form-control-label>\n      </div>\n    </div>\n  </fieldset>\n\n  <fieldset>\n    <legend>Управление аккаунтом</legend>\n\n    <div class="row">\n      <div class="col-sm-6 col-12">\n        <form-control-label title="Учетная запись (Логин)" [required]="true">\n          <input-field name="login"\n                       autocomplete="off"\n                       placeholder="Логин"\n                       [(ngModel)]="user.LOGIN"\n                       [required]="true"\n                       [disabled]="isFormDisabled || isBlock"></input-field>\n        </form-control-label>\n      </div>\n\n      <div class="col-sm-6 col-12">\n        <form-control-label title="Тип пользователя" [required]="true">\n          <select2 name="userType"\n                   placeholder="Выберите тип"\n                   [(ngModel)]="user.USERTYPE"\n                   [items]="userTypesList"\n                   bindLabel="NAME"\n                   bindValue="SYSNAME"\n                   [required]="!user.USERID"\n                   [disabled]="isFormDisabled || isBlock || user.USERID"></select2>\n        </form-control-label>\n      </div>\n\n      <div class="col-sm-6 col-12">\n        <form-control-label title="Максимальное количество одновременно открытых сеансов" [required]="true">\n          <input-number name="isConcurrent"\n                       [(ngModel)]="user.ISCONCURRENT"\n                       [required]="true"\n                       [disabled]="isFormDisabled || isBlock"></input-number>\n        </form-control-label>\n      </div>\n\n      <div class="col-sm-6 col-12">\n        <form-control-label title="Метод авторизации" [required]="true">\n          <select2 name="authMethod"\n                   placeholder="Выберете метод"\n                   [(ngModel)]="user.AUTHMETHOD"\n                   [items]="authMethodList"\n                   bindLabel="nameAuthMethod"\n                   bindValue="idAuth"\n                   [required]="!user.AUTHMETHOD"\n                   [disabled]="isFormDisabled || isBlock"></select2>\n        </form-control-label>\n      </div>\n    </div>\n\n    <div *ngIf="!userAccountId" class="row">\n      <div class="col-sm-6 col-12">\n        <form-control-label title="Пароль" [required]="true">\n          <input-field name="password"\n                       autocomplete="new-password"\n                       type="password"\n                       placeholder="Пароль"\n                       [(ngModel)]="user.PASSWORD"\n                       [required]="true"\n                       [disabled]="isFormDisabled"></input-field>\n        </form-control-label>\n      </div>\n      <div class="col-sm-6 col-12">\n        <form-control-label title="Подтверждение пароля" [required]="true">\n          <input-field name="passwordConfirm"\n                       type="password"\n                       placeholder="Подтверждение пароля"\n                       [(ngModel)]="user.RETPASSWORD"\n                       [required]="true"\n                       [disabled]="isFormDisabled"></input-field>\n        </form-control-label>\n      </div>\n    </div>\n  </fieldset>\n\n  <alert-form *ngIf="!isFormDisabled && errorMessage">\n    {{errorMessage}}\n  </alert-form>\n\n  <div class="page__btn">\n    <div class="row">\n      <div class="col-sm-6 col-12">\n        <button *ngIf="userAccountId"\n                class="btn btn-link btn-rounded btn-block"\n                (click)="onChangePassword($event)"\n                [disabled]="isBlock">\n          Сменить пароль\n        </button>\n      </div>\n      <div class="col-sm-6 col-12">\n        <button type="submit"\n                class="btn btn-primary btn-rounded btn-block"\n                (click)="createOrUpdateUser($event, f)"\n                [disabled]="isBlock">\n          Сохранить\n        </button>\n      </div>\n    </div>\n    <div class="row">\n      <div class="col-sm-6 col-12">\n        <button type="button"\n                class="btn btn-primary btn-rounded btn-block"\n                (click)="navigateCancel()">\n          Закрыть\n        </button>\n      </div>\n      <div class="col-sm-6 col-12">\n        <button [disabled]="!userAccountId"\n                type="submit"\n                class="btn btn-primary btn-rounded btn-block"\n                (click)="navigateNext()">Продолжить\n        </button>\n      </div>\n    </div>\n  </div>\n</form>\n\n<change-password-dialog #changeDialog [options]="changePasswordDialogOptions"></change-password-dialog>\n'},VJt9:function(e,n,t){var o=t("NRvf");e.exports="string"==typeof o?o:o.toString()},VmfE:function(e,n){e.exports='<modal-dialog #dialog [modal-dialog-config]="{\n  clickOutsideToClose: true,\n  styles:{\'width\': \'600px\', \'height\': \'300px\', \'text-align\': \'left\'},\n  isModal:true,\n  enterTransitionDuration: 400,\n  leaveTransitionDuration: 400}">\n\n  <h3 class="modal-dialog__title">{{options?.modalDialogTitle}}</h3>\n\n  <div class="modal-dialog__content modal-dialog__no-overflow">\n    <form-control-label [title]="options?.labelTitle" [required]="true">\n      <select2 name="addModalInputSelect"\n               [items]="options?.inputSelectItems"\n               [(ngModel)]="selectedItemModel"\n               [required]="true"\n               [bindLabel]="options?.inputSelectNameField"\n               [bindValue]="options?.inputSelectSysnameField"></select2>\n    </form-control-label>\n  </div>\n\n  <div class="modal-dialog__actions row">\n    <div class="col-6 text-center">\n      <button class="btn btn-primary btn-rounded btn-modal" (click)="options?.onClickAddButton(selectedItemModel)">\n        Добавить\n      </button>\n    </div>\n    <div class="col-6 text-center">\n      <button class="btn btn-link btn-rounded btn-modal" (click)="dialog?.close()">Отмена</button>\n    </div>\n  </div>\n</modal-dialog>\n'},W6Qo:function(e,n,t){(e.exports=t("lcwS")(!0)).push([e.i,".add-section {\n  margin-bottom: 15px; }\n\n.button-container {\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  /* padding-right: 15px; */\n  padding-left: 15px; }\n\n.custom-label {\n  margin-bottom: 0; }\n\n.dropdown-title_empty {\n  margin-bottom: 7px; }\n","",{version:3,sources:["/home/sambucus/fastwork/hgbiv/bsflifeprod/Angular/core/components/dropdown-list/dropdown-list/dropdown-list.component.scss"],names:[],mappings:"AAAA;EACE,oBAAmB,EACpB;;AACD;EACE,0BAAmB;MAAnB,uBAAmB;UAAnB,oBAAmB;EACnB,yBAAuB;MAAvB,sBAAuB;UAAvB,wBAAuB;EACvB,qBAAa;EAAb,qBAAa;EAAb,cAAa;EACb,0BAA0B;EAC1B,mBAAkB,EACnB;;AACD;EACE,iBAAgB,EACjB;;AACD;EACE,mBAAkB,EACnB",file:"dropdown-list.component.scss",sourcesContent:[".add-section{\r\n  margin-bottom: 15px;\r\n}\r\n.button-container {\r\n  align-items: center;\r\n  justify-content: center;\r\n  display: flex;\r\n  /* padding-right: 15px; */\r\n  padding-left: 15px;\r\n}\r\n.custom-label {\r\n  margin-bottom: 0;\r\n}\r\n.dropdown-title_empty{\r\n  margin-bottom: 7px;\r\n}\r\n"],sourceRoot:""}])},Wl4a:function(e,n,t){var o=t("QOs1");e.exports="string"==typeof o?o:o.toString()},YCI4:function(e,n){e.exports='<div class="row add-section">\n  <div class="button-container">\n    <button class="custom-button custom-button__add"\n            title="Добавить"\n            [disabled]="isFormDisabled"\n            (click)="add()">\n      <i class="icon-add"></i>\n    </button>\n  </div>\n  \x3c!-- <div class="col-sm-6 col-12 d-flex align-items-center">\n    <span class="control-label custom-label">{{addButtonTitle}}</span>\n  </div> --\x3e\n  <div class="col-sm-6 col-12">\n    <form-control-label [title]="dropdownTitle">\n      <input-select [name]="name + \'_dropdown-list_add\'"\n                    [items]="dropDownList"\n                    [nameField]="nameField"\n                    [sysnameField]="sysnameField"\n                    [disabled]="isFormDisabled"\n                    (onSelect)="onSelect($event)"></input-select>\n    </form-control-label>\n  </div>\n</div>\n<div class="row" *ngFor="let item of namespace; let i = index">\n  <div class="button-container">\n    <button [ngClass]="{\'custom-button custom-button__delete\': 1,\n                        \'dropdown-title_empty\': !dropdownTitle}"\n            title="Удалить"\n            [disabled]="isFormDisabled"\n            (click)="delete(i)">\n      <i class="icon-delete"></i>\n    </button>\n  </div>\n  <div class="col-sm-6 col-12">\n    <form-control-label [title]="dropdownTitle">\n      <input-select [name]="name + \'_dropdown-list\' + i"\n                    [(ngModel)]="item[sysnameField]"\n                    [items]="dropDownList"\n                    [nameField]="nameField"\n                    [sysnameField]="sysnameField"\n                    disabled="true"\n                    (onSelect)="onSelect($event, i)"></input-select>\n    </form-control-label>\n  </div>\n</div>\n'},Zd4z:function(e,n,t){(e.exports=t("lcwS")(!0)).push([e.i,":host {\n  position: relative;\n  display: block; }\n\n.tree {\n  display: none;\n  margin-bottom: 30px;\n  width: 100%;\n  height: 250px;\n  border: 1px solid #4b994b;\n  border-radius: 5px;\n  background: #fff;\n  padding: 0px 5px;\n  position: absolute;\n  z-index: 999; }\n","",{version:3,sources:["/home/sambucus/fastwork/hgbiv/bsflifeprod/Angular/core/components/select-tree/src/select-tree.component.scss","/home/sambucus/fastwork/hgbiv/bsflifeprod/Angular/sbslife/themes/_variables.scss"],names:[],mappings:"AAEA;EACI,mBAAkB;EAClB,eAAc,EACjB;;AAED;EACI,cAAa;EACb,oBAAmB;EACnB,YAAW;EACX,cAAa;EACb,0BCwDU;EDvDV,mBAAkB;EAClB,iBAAgB;EAChB,iBAAgB;EAChB,mBAAkB;EAClB,aAAY,EACf",file:"select-tree.component.scss",sourcesContent:["@import '~app/themes/_variables';\n\n:host {\n    position: relative;\n    display: block;\n}\n\n.tree {\n    display: none;\n    margin-bottom: 30px;\n    width: 100%;\n    height: 250px;\n    border: 1px solid $info;\n    border-radius: 5px;\n    background: #fff;\n    padding: 0px 5px;\n    position: absolute;\n    z-index: 999;\n}\n\n// #selectedInput\n\n// padding: 7px 5px;\n// font-size: 1rem;\n\n//     margin-bottom: 0.7rem;\n\n// input-field *[readonly] {\n//     background: #fff !important\n// }\n",'@import \'mixins/function\';\n\n// Variables\n//\n// Variables should follow the `$component-state-property-size` formula for\n// consistent naming. Ex: $nav-link-disabled-color and $modal-content-box-shadow-xs.\n\n//\n// Color system\n//\n\n// stylelint-disable\n$white: #fff !default;\n$gray-100: #f8f9fa !default;\n$gray-200: #e9ecef !default;\n$gray-300: #dee2e6 !default;\n$gray-400: #ced4da !default;\n$gray-500: #adb5bd !default;\n$gray-600: #868e96 !default;\n$gray-700: #495057 !default;\n$gray-800: #343a40 !default;\n$gray-900: #212529 !default;\n$black: #000 !default;\n\n$grays: () !default;\n$grays: map-merge((\n        "100": $gray-100,\n        "200": $gray-200,\n        "300": $gray-300,\n        "400": $gray-400,\n        "500": $gray-500,\n        "600": $gray-600,\n        "700": $gray-700,\n        "800": $gray-800,\n        "900": $gray-900\n), $grays);\n\n$blue: #007bff !default;\n$indigo: #6610f2 !default;\n$purple: #6f42c1 !default;\n$pink: #e83e8c !default;\n$red: #dc3545 !default;\n$orange: #fd7e14 !default;\n$yellow: #ffc107 !default;\n$green: #4b994b !default;\n$teal: #20c997 !default;\n$cyan: #17a2b8 !default;\n\n$colors: () !default;\n$colors: map-merge((\n        "blue": $blue,\n        "indigo": $indigo,\n        "purple": $purple,\n        "pink": $pink,\n        "red": $red,\n        "orange": $orange,\n        "yellow": $yellow,\n        "green": $green,\n        "teal": $teal,\n        "cyan": $cyan,\n        "white": $white,\n        "gray": $gray-600,\n        "gray-dark": $gray-800\n), $colors);\n\n$primary: #4b994b !default;\n$secondary: #2a61a1 !default;\n$success: #28a745 !default;\n$info: #4b994b !default;\n$warning: #ffc107 !default;\n$danger: #cd4e3a !default;\n$light: $gray-100 !default;\n$dark: $gray-800 !default;\n$gray-dark: #4d4d4d !default;\n// цвета сообщений\n$attention-bg: rgba(253, 231, 36, .5) !default;\n$attention: #ab7f20 !default;\n$error-bg: rgba(235, 179, 188, .6) !default;\n$error: #792e64 !default;\n\n$box-shadow: rgba(38, 102, 89, .5) !default;\n$element-shadow: rgba(0, 73, 79, .1) !default;\n//$overlay: rgba(5, 25, 5, .65) !default;\n$overlay: rgba(5, 31, 8, .28) !default;\n\n$theme-colors: () !default;\n$theme-colors: map-merge((\n        "primary": $primary,\n        "secondary": $secondary,\n        "success": $success,\n        "info": $info,\n        "warning": $warning,\n        "danger": $danger,\n        "light": $light,\n        "dark": $dark\n), $theme-colors);\n// stylelint-enable\n\n// Set a specific jump point for requesting color jumps\n$theme-color-interval: 8% !default;\n\n// Options\n//\n// Quickly modify global styling by enabling or disabling optional features.\n$enable-caret: true !default;\n$enable-rounded: true !default;\n$enable-shadows: false !default;\n$enable-gradients: false !default;\n$enable-transitions: true !default;\n$enable-hover-media-query: false !default;\n$enable-grid-classes: true !default;\n$enable-print-styles: true !default;\n\n// Spacing\n//\n// Control the default styling of most Bootstrap elements by modifying these\n// variables. Mostly focused on spacing.\n// You can add more entries to the $spacers map, should you need more variation.\n$spacer: 1rem !default;\n$spacers: (\n        0: 0,\n        1: ($spacer * .25),\n        2: ($spacer * .5),\n        3: $spacer,\n        4: ($spacer * 1.5),\n        5: ($spacer * 3)\n) !default;\n\n// This variable affects the `.h-*` and `.w-*` config.\n$sizes: (\n        25: 25%,\n        50: 50%,\n        75: 75%,\n        100: 100%\n) !default;\n\n// Body\n//\n// Settings for the `<body>` element.\n$body-bg: $white !default;\n$body-color: #434343;\n\n// Links\n//\n// Style anchor elements.\n$link-color: theme-color("primary") !default;\n$link-decoration: underline !default;\n$link-hover-color: darken($link-color, 15%) !default;\n$link-hover-decoration: underline !default;\n\n// Paragraphs\n//\n// Style p element.\n\n$paragraph-margin-bottom: 1rem !default;\n\n// Grid breakpoints\n//\n// Define the minimum dimensions at which your layout will change,\n// adapting to different screen sizes, for use in media queries.\n$grid-breakpoint-sm: 540px;\n$grid-breakpoint-md: 720px;\n$grid-breakpoint-lg: 960px;\n$grid-breakpoint-xl: 1140px;\n\n$grid-breakpoints: (\n        xs: 0,\n        sm: $grid-breakpoint-sm,\n        md: $grid-breakpoint-md,\n        lg: $grid-breakpoint-lg,\n        xl: $grid-breakpoint-xl\n) !default;\n\n@include _assert-ascending($grid-breakpoints, "$grid-breakpoints");\n@include _assert-starts-at-zero($grid-breakpoints);\n\n// Grid containers\n//\n// Define the maximum width of `.container` for different screen sizes.\n$container-max-sm: 540px;\n$container-max-md: 720px;\n$container-max-lg: 960px;\n$container-max-xl: 1140px;\n\n$container-max-widths: (\n        sm: $container-max-sm,\n        md: $container-max-md,\n        lg: $container-max-lg,\n        xl: $container-max-xl\n) !default;\n\n@include _assert-ascending($container-max-widths, "$container-max-widths");\n\n// Grid columns\n//\n// Set the number of columns and specify the width of the gutters.\n$grid-columns: 12 !default;\n$grid-gutter-width: 30px !default;\n\n// Components\n//\n// Define common padding and border radius sizes and more.\n$line-height-lg: 1.5 !default;\n$line-height-sm: 1.5 !default;\n\n$border-width: 1px !default;\n$border-color: $gray-200 !default;\n\n$border-radius: 3px;\n$border-radius-lg: .3rem !default;\n$border-radius-sm: .2rem !default;\n\n$component-active-color: $white !default;\n$component-active-bg: theme-color("primary") !default;\n\n$caret-width: .3em !default;\n\n$transition-base: all .2s ease-in-out !default;\n$transition-fade: opacity .15s linear !default;\n$transition-collapse: height .35s ease !default;\n\n// Fonts\n//\n// Font, line-height, and color for body text, headings, and more.\n// stylelint-disable value-keyword-case\n$font-family-sans-serif: "Fedra Sans", Arial, sans-serif;\n$font-family-monospace: "SFMono-Regular", Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace !default;\n$font-family-base: $font-family-sans-serif !default;\n$font-family-bold: "Fedra Sans", ArialBold, sans-serif;\n// stylelint-enable value-keyword-case\n\n$font-size-base: 1rem !default; // Assumes the browser default, typically `14px`\n$font-size-lg: ($font-size-base * 1.25) !default;\n$font-size-sm: ($font-size-base * .875) !default;\n\n$font-weight-light: 300 !default;\n$font-weight-normal: 400 !default;\n$font-weight-bold: 700 !default;\n\n$font-weight-base: $font-weight-normal !default;\n$line-height-base: 1.286 !default;\n\n$h1-font-size: $font-size-base * 1.9 !default;\n$h2-font-size: $font-size-base * 1.7 !default;\n$h3-font-size: $font-size-base * 1.5 !default;\n$h4-font-size: $font-size-base * 1.3 !default;\n$h5-font-size: $font-size-base * 1.1 !default;\n$h6-font-size: $font-size-base !default;\n\n$headings-margin-bottom: ($spacer / 2) !default;\n$headings-font-family: inherit !default;\n$headings-font-weight: 500 !default;\n$headings-line-height: 1.2 !default;\n$headings-color: inherit !default;\n\n$display1-size: 6rem !default;\n$display2-size: 5.5rem !default;\n$display3-size: 4.5rem !default;\n$display4-size: 3.5rem !default;\n\n$display1-weight: 300 !default;\n$display2-weight: 300 !default;\n$display3-weight: 300 !default;\n$display4-weight: 300 !default;\n$display-line-height: $headings-line-height !default;\n\n$lead-font-size: ($font-size-base * 1.25) !default;\n$lead-font-weight: 300 !default;\n\n$small-font-size: 80% !default;\n\n$text-muted: $gray-600 !default;\n\n$blockquote-small-color: $gray-600 !default;\n$blockquote-font-size: ($font-size-base * 1.25) !default;\n\n$hr-border-color: rgba($black, .1) !default;\n$hr-border-width: $border-width !default;\n\n$mark-padding: .2em !default;\n\n$dt-font-weight: $font-weight-bold !default;\n\n$kbd-box-shadow: inset 0 -.1rem 0 rgba($black, .25) !default;\n$nested-kbd-font-weight: $font-weight-bold !default;\n\n$list-inline-padding: 5px !default;\n\n$mark-bg: #fcf8e3 !default;\n\n// Tables\n$table-cell-padding: .75rem !default;\n$table-cell-padding-sm: .3rem !default;\n\n$table-bg: transparent !default;\n$table-accent-bg: #f6f6f6 !default;\n$table-hover-bg: rgba($black, .075) !default;\n$table-active-bg: $table-hover-bg !default;\n\n$table-border-width: $border-width !default;\n$table-border-color: $gray-200 !default;\n\n$table-head-bg: $gray-200 !default;\n$table-head-color: $gray-700 !default;\n\n$table-dark-bg: $gray-900 !default;\n$table-dark-accent-bg: #f6f6f6 !default;\n$table-dark-hover-bg: rgba($white, .075) !default;\n$table-dark-border-color: lighten($gray-900, 7.5%) !default;\n$table-dark-color: $body-bg !default;\n\n$table-header-color: color(\'green\'); //#1F6DB0\n$table-active-row-bgcolor: #a8e6b4; //#00b4e7\n$table-active-row-color: $body-color; //#FFF\n$table-body-row-bg: #f6f6f6; //#e5f6fd\n\n$table-caption-color: $text-muted !default;\n\n// journal\n$custom-button-color: $primary; //#00b4e7\n\n// Buttons\n$input-btn-padding-y: .4rem !default;\n$input-btn-padding-x: .4rem !default;\n$input-btn-line-height: $line-height-base !default;\n\n$input-btn-focus-width: .2rem !default;\n$input-btn-focus-color: rgba(theme-color("primary"), .25) !default;\n$input-btn-focus-box-shadow: 0 0 0 $input-btn-focus-width $input-btn-focus-color !default;\n\n$input-btn-padding-y-sm: .25rem !default;\n$input-btn-padding-x-sm: .5rem !default;\n$input-btn-line-height-sm: $line-height-sm !default;\n\n$input-btn-padding-y-lg: .5rem !default;\n$input-btn-padding-x-lg: 1rem !default;\n$input-btn-line-height-lg: $line-height-lg !default;\n\n$btn-font-weight: $font-weight-normal !default;\n$btn-box-shadow: inset 0 1px 0 rgba($white, .15), 0 1px 1px rgba($black, .075) !default;\n$btn-active-box-shadow: inset 0 3px 5px rgba($black, .125) !default;\n\n$btn-link-disabled-color: $gray-600 !default;\n\n$btn-block-spacing-y: .5rem !default;\n\n// Allows for customizing button radius independently from global border radius\n$btn-border-radius: $border-radius !default;\n$btn-border-radius-lg: $border-radius-lg !default;\n$btn-border-radius-sm: $border-radius-sm !default;\n\n$btn-transition: background-color .15s ease-in-out, border-color .15s ease-in-out, box-shadow .15s ease-in-out !default;\n\n// Forms\n$label-margin-bottom: .5rem !default;\n\n$input-bg: $white !default;\n$input-disabled-bg: #d2d2d2 !default;\n\n$input-color: $gray-700 !default;\n$input-border-color: $gray-400 !default;\n$input-btn-border-width: $border-width !default; // For form controls and buttons\n$input-box-shadow: inset 0 1px 1px rgba($black, .075) !default;\n\n$input-border-radius: $border-radius !default;\n$input-border-radius-lg: $border-radius-lg !default;\n$input-border-radius-sm: $border-radius-sm !default;\n\n$input-focus-bg: $input-bg !default;\n$input-focus-border-color: $info;\n$input-checked-bg: $info;\n$input-focus-color: $input-color !default;\n\n$input-placeholder-color: $gray-600 !default;\n\n$input-height-border: $input-btn-border-width * 2 !default;\n\n$input-height-inner: ($font-size-base * $input-btn-line-height) + ($input-btn-padding-y * 2) !default;\n$input-height: calc(#{$input-height-inner} + #{$input-height-border}) !default;\n\n$input-height-inner-sm: ($font-size-sm * $input-btn-line-height-sm) + ($input-btn-padding-y-sm * 2) !default;\n$input-height-sm: calc(#{$input-height-inner-sm} + #{$input-height-border}) !default;\n\n$input-height-inner-lg: ($font-size-lg * $input-btn-line-height-lg) + ($input-btn-padding-y-lg * 2) !default;\n$input-height-lg: calc(#{$input-height-inner-lg} + #{$input-height-border}) !default;\n\n$input-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s !default;\n\n$form-text-margin-top: .25rem !default;\n\n$form-check-margin-bottom: .5rem !default;\n$form-check-input-gutter: 1.25rem !default;\n$form-check-input-margin-y: .25rem !default;\n$form-check-input-margin-x: .25rem !default;\n\n$form-check-inline-margin-x: 1.75rem !default;\n\n$form-group-margin-bottom: 1rem !default;\n\n$input-group-addon-color: $input-color !default;\n$input-group-addon-bg: $gray-200 !default;\n$input-group-addon-border-color: $input-border-color !default;\n\n$custom-control-gutter: 1.5rem !default;\n$custom-control-spacer-y: .25rem !default;\n$custom-control-spacer-x: 1rem !default;\n\n$custom-control-indicator-size: 1rem !default;\n$custom-control-indicator-bg: #ddd !default;\n$custom-control-indicator-bg-size: 50% 50% !default;\n$custom-control-indicator-box-shadow: inset 0 .25rem .25rem rgba($black, .1) !default;\n\n$custom-control-indicator-disabled-bg: $gray-200 !default;\n$custom-control-description-disabled-color: $gray-600 !default;\n\n$custom-control-indicator-checked-color: $white !default;\n$custom-control-indicator-checked-bg: theme-color("primary") !default;\n$custom-control-indicator-checked-box-shadow: none !default;\n\n$custom-control-indicator-focus-box-shadow: 0 0 0 1px $body-bg, $input-btn-focus-box-shadow !default;\n\n$custom-control-indicator-active-color: $white !default;\n$custom-control-indicator-active-bg: lighten(theme-color("primary"), 35%) !default;\n$custom-control-indicator-active-box-shadow: none !default;\n\n$custom-checkbox-indicator-border-radius: $border-radius !default;\n$custom-checkbox-indicator-icon-checked: str-replace(url("data:image/svg+xml;charset=utf8,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 8 8\'%3E%3Cpath fill=\'#{$custom-control-indicator-checked-color}\' d=\'M6.564.75l-3.59 3.612-1.538-1.55L0 4.26 2.974 7.25 8 2.193z\'/%3E%3C/svg%3E"), "#", "%23") !default;\n\n$custom-checkbox-indicator-indeterminate-bg: theme-color("primary") !default;\n$custom-checkbox-indicator-indeterminate-color: $custom-control-indicator-checked-color !default;\n$custom-checkbox-indicator-icon-indeterminate: str-replace(url("data:image/svg+xml;charset=utf8,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 4 4\'%3E%3Cpath stroke=\'#{$custom-checkbox-indicator-indeterminate-color}\' d=\'M0 2h4\'/%3E%3C/svg%3E"), "#", "%23") !default;\n$custom-checkbox-indicator-indeterminate-box-shadow: none !default;\n\n$custom-radio-indicator-border-radius: 50% !default;\n$custom-radio-indicator-icon-checked: str-replace(url("data:image/svg+xml;charset=utf8,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'-4 -4 8 8\'%3E%3Ccircle r=\'3\' fill=\'#{$custom-control-indicator-checked-color}\'/%3E%3C/svg%3E"), "#", "%23") !default;\n\n$custom-select-padding-y: .375rem !default;\n$custom-select-padding-x: .75rem !default;\n$custom-select-height: $input-height !default;\n$custom-select-indicator-padding: 1rem !default; // Extra padding to account for the presence of the background-image based indicator\n$custom-select-line-height: $input-btn-line-height !default;\n$custom-select-color: $input-color !default;\n$custom-select-disabled-color: $gray-600 !default;\n$custom-select-bg: $white !default;\n$custom-select-disabled-bg: $gray-200 !default;\n$custom-select-bg-size: 8px 10px !default; // In pixels because image dimensions\n$custom-select-indicator-color: #333 !default;\n$custom-select-indicator: str-replace(url("data:image/svg+xml;charset=utf8,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 4 5\'%3E%3Cpath fill=\'#{$custom-select-indicator-color}\' d=\'M2 0L0 2h4zm0 5L0 3h4z\'/%3E%3C/svg%3E"), "#", "%23") !default;\n$custom-select-border-width: $input-btn-border-width !default;\n$custom-select-border-color: $input-border-color !default;\n$custom-select-border-radius: $border-radius !default;\n\n$custom-select-focus-border-color: lighten(theme-color("primary"), 25%) !default;\n$custom-select-focus-box-shadow: inset 0 1px 2px rgba($black, .075), 0 0 5px rgba($custom-select-focus-border-color, .5) !default;\n\n$custom-select-font-size-sm: 75% !default;\n$custom-select-height-sm: $input-height-sm !default;\n\n$custom-file-height: $input-height !default;\n$custom-file-width: 14rem !default;\n$custom-file-focus-box-shadow: 0 0 0 .075rem $white, 0 0 0 .2rem theme-color("primary") !default;\n\n$custom-file-padding-y: $input-btn-padding-y !default;\n$custom-file-padding-x: $input-btn-padding-x !default;\n$custom-file-line-height: $input-btn-line-height !default;\n$custom-file-color: $input-color !default;\n$custom-file-bg: $input-bg !default;\n$custom-file-border-width: $input-btn-border-width !default;\n$custom-file-border-color: $input-border-color !default;\n$custom-file-border-radius: $input-border-radius !default;\n$custom-file-box-shadow: $input-box-shadow !default;\n$custom-file-button-color: $custom-file-color !default;\n$custom-file-button-bg: $input-group-addon-bg !default;\n$custom-file-text: (\n        placeholder: (\n                en: "Choose file..."\n        ),\n        button-label: (\n                en: "Browse"\n        )\n) !default;\n\n$form-control-icon: #B1B1B1;\n$control-label-required-color: $info;\n\n//autocomplete\n$autocomplete-list-hover-color: #e5fde5;\n$autocomplete-list-select-color: #cef4cc;\n\n//pikaday\n$pika-button-bcolor: $info;\n\n// Form validation\n$form-validate-valid-color: theme-color("success") !default;\n$form-validate-invalid-color: theme-color("danger") !default;\n\n// Dropdowns\n$dropdown-min-width: 10rem !default;\n$dropdown-padding-y: .5rem !default;\n$dropdown-spacer: .125rem !default;\n$dropdown-bg: $white !default;\n$dropdown-border-color: rgba($black, .15) !default;\n$dropdown-border-width: $border-width !default;\n$dropdown-divider-bg: $gray-200 !default;\n$dropdown-box-shadow: 0 .5rem 1rem rgba($black, .175) !default;\n\n$dropdown-link-color: $gray-900 !default;\n$dropdown-link-hover-color: $dropdown-link-color !default;\n$dropdown-link-hover-bg: #e5fde5 !default; //#d4f6ff\n\n$dropdown-link-active-color: $dropdown-link-color !default;\n$dropdown-link-active-bg: #d2efd9 !default; // #d9ebf9\n\n$dropdown-link-disabled-color: $gray-600 !default;\n\n$dropdown-item-padding-y: .25rem !default;\n$dropdown-item-padding-x: 1.5rem !default;\n\n$dropdown-header-color: $gray-600 !default;\n\n// Z-index master list\n//\n// Warning: Avoid customizing these values. They\'re used for a bird\'s eye view\n// of components dependent on the z-axis and are designed to all work together.\n$zindex-dropdown: 1000 !default;\n$zindex-form-control-icon: 1001 !default;\n$zindex-sticky: 1020 !default;\n$zindex-fixed: 1030 !default;\n$zindex-modal-backdrop: 1040 !default;\n$zindex-modal: 1050 !default;\n$zindex-popover: 1060 !default;\n$zindex-tooltip: 1070 !default;\n\n// Navs\n$nav-link-padding-y: .5rem !default;\n$nav-link-padding-x: 1rem !default;\n$nav-link-disabled-color: $gray-600 !default;\n\n$nav-tabs-border-color: #ddd !default;\n$nav-tabs-border-width: $border-width !default;\n$nav-tabs-border-radius: $border-radius !default;\n$nav-tabs-link-hover-border-color: $gray-200 !default;\n$nav-tabs-link-active-color: $gray-700 !default;\n$nav-tabs-link-active-bg: $body-bg !default;\n$nav-tabs-link-active-border-color: #ddd !default;\n\n$nav-pills-border-radius: $border-radius !default;\n$nav-pills-link-active-color: $component-active-color !default;\n$nav-pills-link-active-bg: $component-active-bg !default;\n\n// Navbar\n$navbar-padding-y: ($spacer / 2) !default;\n$navbar-padding-x: $spacer !default;\n\n$navbar-brand-font-size: $font-size-lg !default;\n// Compute the navbar-brand padding-y so the navbar-brand will have the same height as navbar-text and nav-link\n$nav-link-height: ($font-size-base * $line-height-base + $nav-link-padding-y * 2) !default;\n$navbar-brand-height: $navbar-brand-font-size * $line-height-base !default;\n$navbar-brand-padding-y: ($nav-link-height - $navbar-brand-height) / 2 !default;\n\n$navbar-toggler-padding-y: .25rem !default;\n$navbar-toggler-padding-x: .75rem !default;\n$navbar-toggler-font-size: $font-size-lg !default;\n$navbar-toggler-border-radius: $btn-border-radius !default;\n\n$navbar-dark-color: rgba($white, .5) !default;\n$navbar-dark-hover-color: rgba($white, .75) !default;\n$navbar-dark-active-color: $white !default;\n$navbar-dark-disabled-color: rgba($white, .25) !default;\n$navbar-dark-toggler-icon-bg: str-replace(url("data:image/svg+xml;charset=utf8,%3Csvg viewBox=\'0 0 30 30\' xmlns=\'http://www.w3.org/2000/svg\'%3E%3Cpath stroke=\'#{$navbar-dark-color}\' stroke-width=\'2\' stroke-linecap=\'round\' stroke-miterlimit=\'10\' d=\'M4 7h22M4 15h22M4 23h22\'/%3E%3C/svg%3E"), "#", "%23") !default;\n$navbar-dark-toggler-border-color: rgba($white, .1) !default;\n\n$navbar-light-color: rgba($black, .5) !default;\n$navbar-light-hover-color: rgba($black, .7) !default;\n$navbar-light-active-color: rgba($black, .9) !default;\n$navbar-light-disabled-color: rgba($black, .3) !default;\n$navbar-light-toggler-icon-bg: str-replace(url("data:image/svg+xml;charset=utf8,%3Csvg viewBox=\'0 0 30 30\' xmlns=\'http://www.w3.org/2000/svg\'%3E%3Cpath stroke=\'#{$navbar-light-color}\' stroke-width=\'2\' stroke-linecap=\'round\' stroke-miterlimit=\'10\' d=\'M4 7h22M4 15h22M4 23h22\'/%3E%3C/svg%3E"), "#", "%23") !default;\n$navbar-light-toggler-border-color: rgba($black, .1) !default;\n\n// Pagination\n$pagination-padding-y: .5rem !default;\n$pagination-padding-x: .75rem !default;\n$pagination-padding-y-sm: .25rem !default;\n$pagination-padding-x-sm: .5rem !default;\n$pagination-padding-y-lg: .75rem !default;\n$pagination-padding-x-lg: 1.5rem !default;\n$pagination-line-height: 1.25 !default;\n\n$pagination-color: $link-color !default;\n$pagination-bg: $white !default;\n$pagination-border-width: $border-width !default;\n$pagination-border-color: #ddd !default;\n\n$pagination-hover-color: $link-hover-color !default;\n$pagination-hover-bg: $gray-200 !default;\n$pagination-hover-border-color: #ddd !default;\n\n$pagination-active-color: $white !default;\n$pagination-active-bg: theme-color("primary") !default;\n$pagination-active-border-color: theme-color("primary") !default;\n\n$pagination-disabled-color: $gray-600 !default;\n$pagination-disabled-bg: $white !default;\n$pagination-disabled-border-color: #ddd !default;\n\n// Jumbotron\n$jumbotron-padding: 2rem !default;\n$jumbotron-bg: $gray-200 !default;\n\n// Cards\n$card-spacer-y: .75rem !default;\n$card-spacer-x: 1.25rem !default;\n$card-border-width: $border-width !default;\n$card-border-radius: $border-radius !default;\n$card-border-color: rgba($black, .125) !default;\n$card-inner-border-radius: calc(#{$card-border-radius} - #{$card-border-width}) !default;\n$card-cap-bg: rgba($black, .03) !default;\n$card-bg: $white !default;\n\n$card-img-overlay-padding: 1.25rem !default;\n\n$card-group-margin: ($grid-gutter-width / 2) !default;\n$card-deck-margin: $card-group-margin !default;\n\n$card-columns-count: 3 !default;\n$card-columns-gap: 1.25rem !default;\n$card-columns-margin: $card-spacer-y !default;\n\n// Tooltips\n$tooltip-max-width: 200px !default;\n$tooltip-color: $white !default;\n$tooltip-bg: #1fb458;\n$tooltip-opacity: .9 !default;\n$tooltip-padding-y: 5px !default;\n$tooltip-padding-x: 8px !default;\n$tooltip-margin: 5px !default;\n\n$tooltip-arrow-width: 5px !default;\n$tooltip-arrow-height: 5px !default;\n$tooltip-arrow-color: $tooltip-bg !default;\n\n// Popovers\n$popover-bg: $white !default;\n$popover-max-width: 276px !default;\n$popover-border-width: $border-width !default;\n$popover-border-color: rgba($black, .2) !default;\n$popover-box-shadow: 0 .25rem .5rem rgba($black, .2) !default;\n\n$popover-header-bg: darken($popover-bg, 3%) !default;\n$popover-header-color: $headings-color !default;\n$popover-header-padding-y: .5rem !default;\n$popover-header-padding-x: .75rem !default;\n\n$popover-body-color: $body-color !default;\n$popover-body-padding-y: $popover-header-padding-y !default;\n$popover-body-padding-x: $popover-header-padding-x !default;\n\n$popover-arrow-width: .8rem !default;\n$popover-arrow-height: .4rem !default;\n$popover-arrow-color: $popover-bg !default;\n\n$popover-arrow-outer-color: fade-in($popover-border-color, .05) !default;\n\n// Badges\n$badge-font-size: 75% !default;\n$badge-font-weight: $font-weight-bold !default;\n$badge-padding-y: .25em !default;\n$badge-padding-x: .4em !default;\n$badge-border-radius: $border-radius !default;\n\n$badge-pill-padding-x: .6em !default;\n// Use a higher than normal value to ensure completely rounded edges when\n// customizing padding or font-size on labels.\n$badge-pill-border-radius: 10rem !default;\n\n// Modals\n// Padding applied to the modal body\n$modal-inner-padding: 15px !default;\n\n$modal-dialog-margin: 10px !default;\n$modal-dialog-margin-y-sm-up: 30px !default;\n\n$modal-title-line-height: $line-height-base !default;\n\n$modal-content-bg: $white !default;\n$modal-content-border-color: rgba($black, .2) !default;\n$modal-content-border-width: $border-width !default;\n$modal-content-box-shadow-xs: 0 3px 9px rgba($black, .5) !default;\n$modal-content-box-shadow-sm-up: 0 5px 15px rgba($black, .5) !default;\n\n$modal-backdrop-bg: $black !default;\n$modal-backdrop-opacity: .5 !default;\n$modal-header-border-color: $gray-200 !default;\n$modal-footer-border-color: $modal-header-border-color !default;\n$modal-header-border-width: $modal-content-border-width !default;\n$modal-footer-border-width: $modal-header-border-width !default;\n$modal-header-padding: 15px !default;\n\n$modal-lg: 800px !default;\n$modal-md: 500px !default;\n$modal-sm: 300px !default;\n\n$modal-transition: transform .3s ease-out !default;\n\n// Alerts\n//\n// Define alert colors, border radius, and padding.\n$alert-padding-y: .75rem !default;\n$alert-padding-x: 1.25rem !default;\n$alert-margin-bottom: 1rem !default;\n$alert-border-radius: 3px;\n$alert-link-font-weight: $font-weight-bold !default;\n$alert-border-width: $border-width !default;\n$alert-bg-level: -10 !default;\n$alert-border-level: -9 !default;\n$alert-color-level: 6 !default;\n\n// Progress bars\n$progress-height: 1rem !default;\n$progress-font-size: ($font-size-base * .75) !default;\n$progress-bg: $gray-200 !default;\n$progress-border-radius: $border-radius !default;\n$progress-box-shadow: inset 0 .1rem .1rem rgba($black, .1) !default;\n$progress-bar-color: $white !default;\n$progress-bar-bg: theme-color("primary") !default;\n$progress-bar-animation-timing: 1s linear infinite !default;\n$progress-bar-transition: width .6s ease !default;\n\n// List group\n$list-group-bg: $white !default;\n$list-group-border-color: rgba($black, .125) !default;\n$list-group-border-width: $border-width !default;\n$list-group-border-radius: $border-radius !default;\n\n$list-group-item-padding-y: .75rem !default;\n$list-group-item-padding-x: 1.25rem !default;\n\n$list-group-hover-bg: $gray-100 !default;\n$list-group-active-color: $component-active-color !default;\n$list-group-active-bg: $component-active-bg !default;\n$list-group-active-border-color: $list-group-active-bg !default;\n\n$list-group-disabled-color: $gray-600 !default;\n$list-group-disabled-bg: $list-group-bg !default;\n\n$list-group-action-color: $gray-700 !default;\n$list-group-action-hover-color: $list-group-action-color !default;\n\n$list-group-action-active-color: $body-color !default;\n$list-group-action-active-bg: $gray-200 !default;\n\n// Figures\n$figure-caption-font-size: 90% !default;\n$figure-caption-color: $gray-600 !default;\n\n// Breadcrumbs\n$breadcrumb-padding-y: .75rem !default;\n$breadcrumb-padding-x: 1rem !default;\n$breadcrumb-item-padding: .5rem !default;\n\n$breadcrumb-margin-bottom: 1rem !default;\n\n$breadcrumb-bg: $gray-200 !default;\n$breadcrumb-divider-color: $gray-600 !default;\n$breadcrumb-active-color: $gray-600 !default;\n$breadcrumb-divider: "/" !default;\n\n// Close\n$close-font-size: $font-size-base * 1.5 !default;\n$close-font-weight: $font-weight-bold !default;\n$close-color: $black !default;\n$close-text-shadow: 0 1px 0 $white !default;\n\n// Code\n$code-font-size: 90% !default;\n$code-padding-y: .2rem !default;\n$code-padding-x: .4rem !default;\n$code-color: #bd4147 !default;\n$code-bg: $gray-100 !default;\n\n$kbd-color: $white !default;\n$kbd-bg: $gray-900 !default;\n\n$pre-color: $gray-900 !default;\n$pre-scrollable-max-height: 340px !default;\n\n'],sourceRoot:""}])},cuhR:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("vCxL"),r=t("LBxa"),a=t("KcsH"),i=t("uz/q"),l=function(){function e(){this.options={},this.currentPassword="",this.newPassword="",this.retPassword="",this.isEqualPassword=!1,this.repeatErrorMessage="Введённые пароли не совпадают",this.wasValidate=!1,this.isServiceInProgress=!1,this.serviceErrorMessage=null}return e.prototype.ngOnInit=function(){},e.prototype.onPasswordChanged=function(){this.isEqualPassword=this.newPassword===this.retPassword},e.prototype.onCheckRegExpPassword=function(e){e&&(this.repeatErrorMessage=e.errorMessage)},e.prototype.submit=function(e){return this.wasValidate=!0,e.valid&&this.isEqualPassword&&(this.options.onClickConfirmButton(this.currentPassword,this.newPassword,this.retPassword,e),this.wasValidate=!1),!1},e.prototype.clear=function(){this.serviceErrorMessage=null,this.wasValidate=!1,this.currentPassword=null,this.newPassword=null,this.retPassword=null},o.__decorate([r.ViewChild("dialog"),o.__metadata("design:type",i.ModalDialogComponent)],e.prototype,"dialog",void 0),o.__decorate([r.Input(),o.__metadata("design:type",a.ChangePasswordDialogOptions)],e.prototype,"options",void 0),o.__decorate([r.Component({selector:"change-password-dialog",template:t("mPS4"),styles:[t("E0cw")]}),o.__metadata("design:paramtypes",[])],e)}();n.ChangePasswordDialogComponent=l},eMBm:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("vCxL"),r=t("LBxa"),a=t("B1iE"),i=t("6VFu");t("PyRu");var l=t("s1W5"),d=t("uz/q"),s=t("NWuu"),u=function(e){function n(n){var t=e.call(this,n)||this;return t.injector=n,t.isGroupLoading=!0,t.groupNamespace=[],t.groupTableButtons=a.cloneDeep(t.tableButtons),t.groupModalDialogOptions=new l.GroupModalDialogOptions("Добавить в группу","Группа"),t.addUserToGroup=function(e){return t.userAccountsService.addUserToGroup(t.userId,e)},t.onAddUserToGroupModal=function(e,n){var o=e&&+e.id;a.isUndefined(o)||(0===o?t.dialogService.alert(d.ModalType.Error,"Нельзя добавить пользователя в корневую группу."):t.addUserToGroup(o).subscribe(function(e){t.getGroupListByAccountId(t.userAccountId).subscribe(function(){return t.addDialog.dialog.close()})}))},t.onClickAddUserToGroup=function(){return o.__awaiter(t,void 0,void 0,function(){return o.__generator(this,function(e){return this.addDialog.dialog.show(),[2]})})},t.removeUserFromGroup=function(e){if(a.isArray(e))try{var n=e.map(function(e){return t.userAccountsService.removeUserFromGroup(t.userId,e.USERGROUPID)});i.Observable.forkJoin.apply(i.Observable,n).first().subscribe(function(){t.getGroupListByAccountId(t.userAccountId).subscribe()})}catch(e){console.error("error in UserAccountsEditComponent UserFromGroup",e)}},t}return o.__extends(n,e),n.prototype.onGroupSelect=function(e){},n.prototype.ngOnInit=function(){this.initTables(),this.userAccountId=this.session.getContext("userAccountId"),this.userAccountId?(this.getUserAccount(),this.getGroupListByAccountId(this.userAccountId).subscribe()):this.routingState.navigate(s.ROUTE_USER_ACCOUNTS)},n.prototype.initTables=function(){this.groupTableButtons[0].onClick=this.onClickAddUserToGroup,this.groupTableButtons[1].onClick=this.removeUserFromGroup,this.groupModalDialogOptions.onClickAddButton=this.onAddUserToGroupModal},n.prototype.getGroupListByAccountId=function(e){var n=this;return this.userAccountsService.getGroupListByAccountId(e).map(function(e){n.groupList=e,n.isGroupLoading=!1})},o.__decorate([r.Component({selector:"app-user-account-group",template:t("h68C"),styles:[t("VJt9")]}),o.__metadata("design:paramtypes",[r.Injector])],n)}(t("KwN6").UserBaseTableComponent);n.UserGroupComponent=u},eQGt:function(e,n,t){var o=t("sfBu");e.exports="string"==typeof o?o:o.toString()},fHTi:function(e,n,t){var o=t("GswF");e.exports="string"==typeof o?o:o.toString()},fpIW:function(e,n){e.exports='<span *ngIf="user" class="page-context">Пользователь: {{user.LOGIN}}<span *ngIf="user.fullname"> ({{user.fullname}})</span></span>\n'},gAQV:function(e,n,t){var o=t("NJZA");e.exports="string"==typeof o?o:o.toString()},h68C:function(e,n){e.exports='<form #f="ngForm" novalidate class="page-form-edit">\n  <add-modal-dialog-group #addDialog [options]="groupModalDialogOptions"></add-modal-dialog-group>\n\n  <user-short-info [user]="user"></user-short-info>\n\n  <div class="page-title">Группы</div>\n\n  <custom-button-group [buttons]="groupTableButtons"\n                       [selected]="groupTable.selected"></custom-button-group>\n  <datatable #groupTable class="bootstrap"\n             [rows]="groupList"\n             columnMode="force"\n             selectionType="single"\n             [rowHeight]="30"\n             [messages]="{ emptyMessage: isGroupLoading ? \'Подождите. Идет загрузка...\' : \'Не найдено ни одной группы\' }"\n             (select)="onGroupSelect($event)">\n    <datatable-column name="№" [maxWidth]="50">\n      <ng-template let-rowIndex="rowIndex" let-row="row" datatable-cell-template>\n        <ng-container>{{rowIndex + 1}}</ng-container>\n      </ng-template>\n    </datatable-column>\n    <datatable-column name="Имя группы" [flexGrow]="1" [prop]="\'GROUPNAME\'"></datatable-column>\n  </datatable>\n\n  <div class="page__btn">\n    <div class="row">\n      <div class="col-sm-6 col-12">\n        <button type="button"\n                class="btn btn-link btn-rounded btn-block"\n                (click)="back($event, f)">Вернуться</button>\n      </div>\n      <div class="col-sm-6 col-12">\n        <button *ngIf="isNextSubMenu"\n                type="button"\n                class="btn btn-primary btn-rounded btn-block"\n                (click)="next($event, f)">Продолжить</button>\n\n        <button *ngIf="!isNextSubMenu"\n                type="button"\n                class="btn btn-primary btn-rounded btn-block"\n                (click)="navigateCancel()">Закрыть</button>\n      </div>\n    </div>\n  </div>\n</form>\n'},hysK:function(e,n,t){var o=t("+Bn+");e.exports="string"==typeof o?o:o.toString()},jSUh:function(e,n,t){var o=t("6Bqv");e.exports="string"==typeof o?o:o.toString()},kLnW:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("vCxL"),r=t("LBxa"),a=t("6VFu"),i=t("uz/q"),l=t("PKVp"),d=t("LDRe"),s=t("G2GF"),u=t("NWuu"),c=function(e){function n(n){var t=e.call(this,n)||this;return t.injector=n,t.activeDirectoryUserList=[],t.search=function(e){return t.userAccountsService.getActiveDirectoryUserList(e).map(function(e){return e.map(function(e){return new d.ActiveDirectoryUser(e)})})},t.adServiceCaller=new p(t.userAccountsService),t}return o.__extends(n,e),n.prototype.ngOnInit=function(){var e=this;this.activeDirectoryUser=new d.ActiveDirectoryUser({}),this.userAccountId?this.user.USERID?this.user&&this.setViewAdUserName(new d.ActiveDirectoryUser(this.user)):this.userAccountsService.getUserInfoByAccountId(this.userAccountId).subscribe(function(n){e.user=n,e.isBlock="BLOCKED"===n.STATUS,e.user&&e.setViewAdUserName(new d.ActiveDirectoryUser(e.user))}):this.routingState.navigate(u.ROUTE_USER_ACCOUNTS)},n.prototype.bindAccounts=function(){var e=this,n=o.__assign({},this.user,{ADUSERPRINCIPALNAME:this.activeDirectoryUser.ADUSERPRINCIPALNAME,ADUSERLOGIN:this.activeDirectoryUser.ADUSERLOGIN,USERACCOUNTID:this.userAccountId});this.userAccountsService.saveAccount(n).subscribe(function(n){n.Error?e.dialogService.alert(i.ModalType.Error,l.StringHelper.nl2br(n.Error)):e.dialogService.alert(i.ModalType.Success,"Пользователь успешно связан с учетной записью Active Directory")})},n.prototype.removeAccountBinding=function(){var e=this,n=o.__assign({},this.user,{USERACCOUNTID:this.userAccountId,ADUSERLOGIN:null,ADUSERPRINCIPALNAME:null});this.userAccountsService.saveAccount(n).subscribe(function(n){n.Error?e.dialogService.alert(i.ModalType.Error,l.StringHelper.nl2br(n.Error)):e.dialogService.alert(i.ModalType.Success,"Связь с пользователем Active Directory успешно удалена")}),this.activeDirectoryUserSelect(new d.ActiveDirectoryUser({}))},n.prototype.setViewAdUserName=function(e){this.viewAdUserName=e&&(e.ADUSERLOGIN||e.ADUSERPRINCIPALNAME)?e.ADUSERLOGIN+" ("+e.ADUSERPRINCIPALNAME+")":""},n.prototype.activeDirectoryUserSelect=function(e){this.activeDirectoryUser=e,this.setViewAdUserName(e)},o.__decorate([r.Component({selector:"app-user-account-active-directory",template:t("rEu0"),styles:[t("jSUh")]}),o.__metadata("design:paramtypes",[r.Injector])],n)}(s.UserBaseAccountComponent);n.ActiveDirectoryComponent=c;var p=function(){function e(e){this.rest=e}return e.prototype.call=function(e){return e?this.rest.getActiveDirectoryUserList(e,{hideLoader:!0}):a.Observable.of([])},e}()},kY28:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("vCxL"),r=t("LBxa"),a=t("B1iE"),i=t("SXCo"),l=function(){function e(){this.status={isOpen:!1},this.isOpen=!1,this._value={name:""}}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){this._value=e},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this.sub=this.selectedValue.subscribe(function(n){return e.value=n})},e.prototype.ngOnDestroy=function(){this.sub.unsubscribe()},e.prototype.onActivate=function(e){if(e){this.value=e;var n=this.options&&this.options.onActivate;a.isFunction(n)&&n(e),this.onOpenChange(!1)}},e.prototype.onClick=function(e){e.preventDefault(),e.stopPropagation()},e.prototype.toggleDropdown=function(e){e.preventDefault(),e.stopPropagation(),this.status.isOpen=!this.status.isOpen},e.prototype.onOpenChange=function(e){this.isOpen=e,this.status.isOpen=e},o.__decorate([r.Input(),o.__metadata("design:type",String)],e.prototype,"name",void 0),o.__decorate([r.Input(),o.__metadata("design:type",String)],e.prototype,"placeholder",void 0),o.__decorate([r.Input(),o.__metadata("design:type",String)],e.prototype,"styleClass",void 0),o.__decorate([r.Input(),o.__metadata("design:type",Boolean)],e.prototype,"required",void 0),o.__decorate([r.Input(),o.__metadata("design:type",Boolean)],e.prototype,"disabled",void 0),o.__decorate([r.Input(),o.__metadata("design:type",Object)],e.prototype,"options",void 0),o.__decorate([r.Input(),o.__metadata("design:type",i.BehaviorSubject)],e.prototype,"selectedValue",void 0),o.__decorate([r.Input(),o.__metadata("design:type",Array)],e.prototype,"nodes",void 0),o.__decorate([r.Component({selector:"select-tree",template:t("4EhM"),styles:[t("w220")]}),o.__metadata("design:paramtypes",[])],e)}();n.SelectTreeComponent=l},kd1W:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("vCxL"),r=t("LBxa"),a=t("FhS4"),i=t("x0/j"),l=t("uz/q"),d=t("jWmD"),s=t("kLaQ"),u=t("98Dg"),c=t("otmI"),p=function(){return o.__decorate([r.NgModule({imports:[a.CommonModule,i.FormsModule,d.FormControlModule,s.FormControlLabelModule,l.ModalDialogModule,u.Select2Module],declarations:[c.AddModalDialogComponent],exports:[c.AddModalDialogComponent]})],function(){})}();n.AddModalDialogModule=p},mPS4:function(e,n){e.exports='<modal-dialog #dialog [modal-dialog-config]="{\n    clickOutsideToClose: true,\n    styles:{\'width\': \'400px\', \'height\': \'350px\', \'text-align\': \'left\'},\n    isModal:true,\n    enterTransitionDuration: 400,\n    leaveTransitionDuration: 400}">\n  <form #f="ngForm"\n        novalidate\n        autocomplite="off"\n        [ngClass]="{\'was-validated\': wasValidate}" style="width: 340px"\n        (submit)="submit(f)">\n    <h3 class="modal-dialog__title">{{options?.modalDialogTitle}}</h3>\n\n    <form-control-label title="Новый пароль" [required]="true">\n      <input-field name="password" autocomplete="new-password" type="password" placeholder="Новый пароль"\n                   [(ngModel)]="newPassword"\n                   [required]="true"\n                   (ngModelChange)="onPasswordChanged()"></input-field>\n    </form-control-label>\n\n    <form-control-label title="Подтверждение пароля" [required]="true">\n      <input-field name="passwordConfirm" placeholder="Подтверждение пароля"\n                   type="password" [(ngModel)]="retPassword"\n                   [required]="true"\n                   (ngModelChange)="onPasswordChanged()"></input-field>\n    </form-control-label>\n\n    <div class="alert alert-danger" *ngIf="wasValidate && !isEqualPassword">{{repeatErrorMessage}}</div>\n    <div class="alert alert-danger" *ngIf="serviceErrorMessage">{{serviceErrorMessage}}</div>\n\n    <div class="modal-dialog__actions row">\n      <div class="col-6 text-center">\n        <button type="submit"\n                class="btn btn-primary btn-rounded"\n                [disabled]="isServiceInProgress">\n          Подтвердить\n        </button>\n      </div>\n      <div class="col-6 text-center">\n        <button class="btn btn-link btn-rounded"\n                (click)="dialog?.close()"\n                [disabled]="isServiceInProgress">Отмена</button>\n      </div>\n    </div>\n  </form>\n</modal-dialog>\n'},nXRC:function(e,n){e.exports='<modal-dialog #dialog [modal-dialog-config]="{\n  clickOutsideToClose: true,\n  styles:{\'width\': \'600px\', \'height\': \'500px\', \'text-align\': \'left\'},\n  isModal:true,\n  enterTransitionDuration: 400,\n  leaveTransitionDuration: 400}">\n  <form #f="ngForm" [ngClass]="{\'was-validated\': true}">\n    <h3 class="modal-dialog__title">{{options?.modalDialogTitle}}</h3>\n\n    <div class="tree">\n      <tree-root (activate)="selectGroup($event?.node?.data)" [nodes]="groupTree" [options]="options"></tree-root>\n    </div>\n\n    <div class="modal-dialog__actions row">\n      <div class="col-6 text-center">\n        <button class="btn btn-primary btn-rounded btn-modal" (click)="options?.onClickAddButton(group)">Добавить\n        </button>\n      </div>\n      <div class="col-6 text-center">\n        <button class="btn btn-link btn-rounded btn-modal" (click)="dialog?.close()">Отмена</button>\n      </div>\n    </div>\n  </form>\n\n</modal-dialog>\n'},njdL:function(e,n){e.exports='<form #f="ngForm" novalidate class="page-form-edit">\n  <user-short-info [user]="user"></user-short-info>\n\n  <div class="page-title">Права</div>\n\n  <journal class="journal"\n           #journal\n           sysName="ADMINRIGHTSMANAGE"\n           [customParams]="{OBJECTID: userAccountId, RIGHTOWNER: \'ACCOUNT\'}"\n           [journalServicePath]="\'journal/\'"\n           [journalButtons]="journalButtons"\n           [journalButtonsAction]="journalButtonsAction"\n           (onDoubleClicked)="viewRight(journal.selected)"></journal>\n\n  <div class="page__btn">\n    <div class="row">\n      <div class="col-sm-6 col-12">\n        <button type="button"\n                class="btn btn-link btn-rounded btn-block"\n                (click)="back($event, f)">\n          Вернуться\n        </button>\n      </div>\n\n      <div class="col-sm-6 col-12">\n        <button type="button"\n                class="btn btn-primary btn-rounded btn-block"\n                (click)="navigateCancel()">\n          Закрыть\n        </button>\n      </div>\n    </div>\n  </div>\n</form>\n'},"nyY/":function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("vCxL"),r=t("LBxa"),a=t("UllE"),i=t("eMBm"),l=t("Fz7G"),d=t("BeFk"),s=t("xfj+"),u=t("zbeP"),c=t("kLnW"),p=t("NWuu"),f=t("rHMe");n.UACCOUNTS_EDIT_ROUTES=[{path:"main",component:u.UserMainComponent,data:{title:"Редактировать пользователя",next:p.ROUTE_USER_ACCOUNTS_ACTIVE_DIRECTORY,cancel:p.ROUTE_USER_ACCOUNTS,menuClose:["user-accounts"]}},{path:"active-directory",component:c.ActiveDirectoryComponent,data:{back:p.ROUTE_USER_ACCOUNTS_MAIN,next:p.ROUTE_USER_ACCOUNTS_ROLE,menuClose:["user-accounts"]},canActivate:[s.UserAccountEditGuard]},{path:"role",component:d.UserRoleComponent,data:{back:p.ROUTE_USER_ACCOUNTS_ACTIVE_DIRECTORY,next:p.ROUTE_USER_ACCOUNTS_GROUP,menuClose:["user-accounts"]},canActivate:[s.UserAccountEditGuard]},{path:"group",component:i.UserGroupComponent,data:{back:p.ROUTE_USER_ACCOUNTS_ROLE,next:p.ROUTE_USER_ACCOUNTS_RIGHT,cancel:p.ROUTE_USER_ACCOUNTS,menuClose:["user-accounts"]},canActivate:[s.UserAccountEditGuard]},{path:"rights",component:l.UserRightComponent,canActivate:[s.UserAccountEditGuard],data:{back:p.ROUTE_USER_ACCOUNTS_GROUP,cancel:p.ROUTE_USER_ACCOUNTS,menuClose:["user-accounts"]}},{path:"rights/simple",component:f.ManageRightSimpleComponent,data:{title:"Пользователь. Права. Простое право",menuTitle:"Пользователь. Права",menu:[{title:"Простое право",path:p.ROUTE_USER_ACCOUNTS_RIGHT_SIMPLE}],cancel:p.ROUTE_USER_ACCOUNTS_RIGHT,menuClose:p.ROUTE_USER_ACCOUNTS_RIGHT},canActivate:[s.UserAccountEditGuard]},{path:"rights/profile",component:f.ManageRightProfileComponent,data:{title:"Пользователь. Права. Профильное право",menuTitle:"Пользователь. Права",menu:[{title:"Профильное право",path:p.ROUTE_USER_ACCOUNTS_RIGHT_PROFILE}],cancel:p.ROUTE_USER_ACCOUNTS_RIGHT,menuClose:p.ROUTE_USER_ACCOUNTS_RIGHT},canActivate:[s.UserAccountEditGuard]}];var g=function(){return o.__decorate([r.NgModule({imports:[a.RouterModule.forChild(n.UACCOUNTS_EDIT_ROUTES)],exports:[a.RouterModule]})],function(){})}();n.UserAccountsEditRoutingModule=g},otmI:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("vCxL"),r=t("LBxa"),a=t("B1iE"),i=t("uz/q"),l=t("JDff"),d=function(){function e(){var e=this;this.options={},this._defaultOptionsMap={modalDialogTitle:"Добавить"},this.initOptionByDefault=function(n,t){a.isUndefined(e.options[t])&&(e.options[t]=n)}}return e.prototype.ngOnInit=function(){a.forIn(this._defaultOptionsMap,this.initOptionByDefault)},o.__decorate([r.ViewChild("dialog"),o.__metadata("design:type",i.ModalDialogComponent)],e.prototype,"dialog",void 0),o.__decorate([r.Input(),o.__metadata("design:type",l.AddModalDialogOptions)],e.prototype,"options",void 0),o.__decorate([r.Component({selector:"add-modal-dialog",template:t("VmfE"),styles:[t("wmsI")]}),o.__metadata("design:paramtypes",[])],e)}();n.AddModalDialogComponent=d},p1L8:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("vCxL"),r=t("LBxa"),a=t("FhS4"),i=t("x0/j"),l=t("rdEm"),d=t("jWmD"),s=t("kLaQ"),u=t("uz/q"),c=t("5T6W"),p=function(){return o.__decorate([r.NgModule({imports:[a.CommonModule,i.FormsModule,d.FormControlModule,s.FormControlLabelModule,u.ModalDialogModule,l.TreeModule],declarations:[c.ModalDialogGroupComponent],exports:[c.ModalDialogGroupComponent]})],function(){})}();n.ModalDialogGroupModule=p},rEu0:function(e,n){e.exports='<form #f="ngForm" [ngClass]="{\'was-validated\': wasValidated}"\n      class="page-form-edit user-accounts-edit-form" novalidate autocomplete="off">\n\n  <user-short-info [user]="user"></user-short-info>\n\n  <div class="page-title">Связь с учетной записью Active Directory</div>\n\n  <div class="row">\n    <div class="col-sm-6 col-12">\n      <form-control-label title="Связанная учетная запись AD" [required]="true">\n        <input-field name="activeDirectory"\n                     placeholder="Связанная учетная запись AD"\n                     [(ngModel)]="viewAdUserName"\n                     [required]="true"\n                     [disabled]="true"></input-field>\n      </form-control-label>\n    </div>\n    <div class="col-sm-6 col-12">\n      <form-control-label title="Поиск учетной записи AD">\n        <autocomplete name="adAccountSelect"\n                      nameField="ADUSERFULLNAME"\n                      sysnameField="ADUSERLOGIN"\n                      [(ngModel)]="selectedAdAccount"\n                      [items]="activeDirectoryUserList"\n                      (onSelect)="activeDirectoryUserSelect($event)"\n                      required="true"\n                      [disabled]="isBlock"\n                      [serviceCaller]="adServiceCaller"\n                      placeholder="Выберите учетную запись AD"></autocomplete>\n      </form-control-label>\n    </div>\n  </div>\n\n\n  <div class="page__btn">\n    <div class="row">\n      <div class="col-sm-6 col-12">\n        <button type="button"\n                class="btn btn-primary btn-rounded btn-block"\n                [disabled]="isBlock"\n                (click)="bindAccounts()">\n          Связать учетные записи\n        </button>\n      </div>\n      <div class="col-sm-6 col-12">\n        <button type="button"\n                class="btn btn-primary btn-rounded btn-block"\n                [disabled]="isBlock"\n                (click)="removeAccountBinding()">\n          Удалить связь\n        </button>\n      </div>\n    </div>\n    <div class="row">\n      <div class="col-sm-6 col-12">\n        <button type="button"\n                class="btn btn-link btn-rounded btn-block"\n                (click)="back($event, f)">\n          Вернуться\n        </button>\n      </div>\n      <div class="col-sm-6 col-12">\n        <button type="button"\n                class="btn btn-primary btn-rounded btn-block"\n                (click)="next($event, f)">\n          Продолжить\n        </button>\n      </div>\n    </div>\n  </div>\n</form>\n'},s1W5:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("vCxL"),r=function(e){function n(n,t){void 0===n&&(n=""),void 0===t&&(t="");var o=e.call(this)||this;return o._modalDialogTitle=n,o._labelTitle=t,o}return o.__extends(n,e),Object.defineProperty(n.prototype,"modalDialogConfig",{get:function(){return this._modalDialogConfig},set:function(e){this._modalDialogConfig=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"modalDialogTitle",{get:function(){return this._modalDialogTitle},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"labelTitle",{get:function(){return this._labelTitle},set:function(e){this._labelTitle=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onClickConfirmButton",{get:function(){return this._onClickAddButton},set:function(e){this._onClickAddButton=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onClickAddButton",{get:function(){return this._onClickAddButton},set:function(e){this._onClickAddButton=e},enumerable:!0,configurable:!0}),n}(t("+laO").Mappable);n.GroupModalDialogOptions=r},sfBu:function(e,n,t){(e.exports=t("lcwS")(!0)).push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"right.component.scss",sourceRoot:""}])},veZ2:function(e,n,t){(e.exports=t("lcwS")(!0)).push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"add-modal-dialog.component.scss",sourceRoot:""}])},w220:function(e,n,t){var o=t("Zd4z");e.exports="string"==typeof o?o:o.toString()},wmsI:function(e,n,t){var o=t("veZ2");e.exports="string"==typeof o?o:o.toString()},"xfj+":function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("vCxL"),r=t("LBxa"),a=t("+laO"),i=t("FhS4"),l=function(){function e(e,n){this.session=e,this.document=n}return e.prototype.canActivate=function(e,n){return!!this.session.getContext("userAccountId")||(this.document.body.style.cursor="auto",!1)},o.__decorate([r.Injectable(),o.__param(1,r.Inject(i.DOCUMENT)),o.__metadata("design:paramtypes",[a.SessionService,Object])],e)}();n.UserAccountEditGuard=l},yY3R:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("vCxL"),r=t("LBxa"),a=t("uz/q"),i=function(){function e(e){this.dialogService=e,this.namespace=[],this.dropDownList=[],this.isFormDisabled=!1,this.onAdd=new r.EventEmitter,this.onDelete=new r.EventEmitter}return e.prototype.ngOnInit=function(){1===this.dropDownList.length&&(this.selectedItem=this.dropDownList[0])},e.prototype.delete=function(e){var n=this.namespace[e];n&&this.onDelete.emit(n)},e.prototype.add=function(){this.isItemAlreadyAdded()?this.showErrorDialog("Такой элемент уже добавлен"):this.selectedItem?this.onAdd.emit(this.selectedItem):this.showErrorDialog("Не выбран ни один элемент")},e.prototype.onSelect=function(e){var n=this;this.selectedItem=this.dropDownList.find(function(t){return t[n.sysnameField]===e})},e.prototype.isItemAlreadyAdded=function(){var e=this;return!!this.namespace.find(function(n){return n[e.sysnameField]===e.selectedItem[e.sysnameField]})},e.prototype.showErrorDialog=function(e){this.dialogService.alert(a.ModalType.Error,e)},o.__decorate([r.Input(),o.__metadata("design:type",String)],e.prototype,"name",void 0),o.__decorate([r.Input(),o.__metadata("design:type",String)],e.prototype,"dropdownTitle",void 0),o.__decorate([r.Input(),o.__metadata("design:type",String)],e.prototype,"addButtonTitle",void 0),o.__decorate([r.Input(),o.__metadata("design:type",Object)],e.prototype,"namespace",void 0),o.__decorate([r.Input(),o.__metadata("design:type",Object)],e.prototype,"dropDownList",void 0),o.__decorate([r.Input(),o.__metadata("design:type",String)],e.prototype,"nameField",void 0),o.__decorate([r.Input(),o.__metadata("design:type",String)],e.prototype,"sysnameField",void 0),o.__decorate([r.Input(),o.__metadata("design:type",Object)],e.prototype,"isFormDisabled",void 0),o.__decorate([r.Output(),o.__metadata("design:type",Object)],e.prototype,"onAdd",void 0),o.__decorate([r.Output(),o.__metadata("design:type",Object)],e.prototype,"onDelete",void 0),o.__decorate([r.Component({selector:"dropdown-list",template:t("YCI4"),styles:[t("Aro2")]}),o.__metadata("design:paramtypes",[a.ModalDialogService])],e)}();n.DropdownListComponent=i},zbeP:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("vCxL"),r=t("LBxa"),a=t("SXCo");t("PyRu");var i=t("B1iE"),l=t("RvHN"),d=t("bPHV"),s=t("uz/q"),u=t("cuhR"),c=function(e){function n(n){var t=e.call(this,n)||this;return t.injector=n,t.departamentOptions={onActivate:function(e){t.departmentItem.next(e)}},t.departmentList=[],t.userTypesList=[],t.departmentItem=new a.BehaviorSubject({}),t.authMethodList=[{idAuth:"0",nameAuthMethod:"Логин/Пароль"},{idAuth:"2",nameAuthMethod:"СУД-ИР"},{idAuth:"3",nameAuthMethod:"LDAP"}],t.changePasswordDialogOptions={modalDialogTitle:"Смена пароля",labelTitle:"Смена пароля"},t.filterLastName=/(^[^А-Яа-яЁё])|([^А-Яа-яЁё\s\-\’\`\'])/,t.filterName=/(^[^А-Яа-яЁё])|([^А-Яа-яЁё\s\-\’\`\'])/,t.isBlock=!1,t.onChangePassword=function(){return o.__awaiter(t,void 0,void 0,function(){return o.__generator(this,function(e){return this.changeDialog.dialog.show(),[2]})})},t.onConfirmChangePassword=function(e,n,o,r){var a=t.changeDialog;r.valid?(a.isServiceInProgress=!0,t.userAccountsService.changePassword(t.userAccountId,n).finally(function(){a.isServiceInProgress=!1}).subscribe(function(e){e.Error?a.serviceErrorMessage=e.Error:(a.dialog.close(),a.clear())})):t.dialogService.alert(s.ModalType.Error,"Заполнены не все поля")},t}return o.__extends(n,e),n.prototype.ngOnInit=function(){this.userAccountId?this.getUserInfoByAccountId(this.userAccountId):(this.user=new d.User({}),this.isBlock=!1),this.changePasswordDialogOptions.onClickConfirmButton=this.onConfirmChangePassword,this.loadDepartments(),this.loadUserTypes()},n.prototype.loadDepartments=function(){var e=this;this.userAccountsService.getDepartmentTree().subscribe(function(n){return e.departmentTree=l.AngularTree.createNewArray(n)}),this.userAccountsService.getDepartmentList().subscribe(function(n){e.departmentList=n,e.setDepartment()})},n.prototype.loadUserTypes=function(){var e=this;this.userAccountsService.getUserTypeList().subscribe(function(n){e.userTypesList=n})},n.prototype.getUserInfoByAccountId=function(e){var n=this;this.userAccountsService.getUserInfoByAccountId(e).subscribe(function(e){n.user=e,n.isBlock="BLOCKED"===e.STATUS,n.setDepartment()})},n.prototype.setDepartment=function(){var e=this;if(this.departmentList){var n=this.departmentList.find(function(n){return n.hid===e.user.DEPARTMENTID});this.departmentItem.next(n)}},n.prototype.createOrUpdateUser=function(e,n){var t=this;if(this.wasValidated=!0,n.valid){var r=void 0,a=this.departmentItem.getValue();if(a&&(r=i.isUndefined(a.id)?+a.hid:+a.id),i.isUndefined(r))this.logger.warn("Отутствует DEPARTMENTID");else{this.user.DEPARTMENTID=r,this.user.ISCONCURRENT||(this.user.ISCONCURRENT=1);var l=o.__assign({},this.user);l.USERACCOUNTID=this.userAccountId,this.userAccountsService.saveAccount(l).subscribe(function(e){e.Error?t.errorMessage=e.Error:(t.errorMessage=null,t.userAccountId=e.USERACCOUNTID,t.userId=e.USERID,t.session.context={userAccountId:t.userAccountId,userId:t.userId})})}}else this.dialogService.alert(s.ModalType.Warning,"Проверьте введенные данные")},o.__decorate([r.ViewChild("changeDialog"),o.__metadata("design:type",u.ChangePasswordDialogComponent)],n.prototype,"changeDialog",void 0),o.__decorate([r.Component({selector:"app-user-account-user-main",template:t("VF6W"),styles:[t("hysK")]}),o.__metadata("design:paramtypes",[r.Injector])],n)}(t("G2GF").UserBaseAccountComponent);n.UserMainComponent=c}});